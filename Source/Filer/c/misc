/* ******************************************************************************************************************************************************** */
/* Filer Module                                                                                                                                       */
/* ******************************************************************************************************************************************************** */

#include <stddef.h>
#include <stdio.h>
#include <stdlib.h>
#include <stdarg.h>
#include <string.h>

#include "debug.h"

#include "misc.h"

/* ******************************************************************************************************************************************************** */
/* Misc Routines                                                                                                                                            */
/* ******************************************************************************************************************************************************** */

char* pad_with_spaces(const char *str, int length)
{
    int str_length;
    int i;
    char *padded_str;

    str_length = (int)strlen(str);
    padded_str = (char*)malloc((size_t)(length + 1) * sizeof(char));

    if (padded_str == NULL)
    {
        return NULL;
    }

    strcpy(padded_str, str);

    if (str_length < length)
    {
        for (i = str_length; i < length; i++)
        {
            padded_str[i] = ' ';
        }
        padded_str[length] = '\0';
    }

    return padded_str;
}

void null_terminate_string(char *str, size_t max_length)
{
    size_t i;

    str[max_length - 1] = '\0';
    for (i = 0; i < max_length; i++)
    {
        if (str[i] == '\0')
        {
            break;
        }
        if (str[i] == '\r' || str[i] == '\n')
        {
            str[i] = '\0';
            break;
        }
    }
}
