NxChat[R]: RiscBBS implementation of NaixSChat

To install NaixSChat:

Copy !NxChat[R] into <RiscBBS$Subtasks>

To link the BBS to NaixSChat, use the runtask ``/wait commands. Example
BBS.YellSysop file:

\{

{abort 1 report `Yelling at sysop` cls}
{bg 0} {bg 4 cll}
{attr 4 1}         Warning to those who yell! {bold}My sysop {fg 2}bites!{cll}
{bg 0} {bg 4 cll attr 0 6}

 Are you REALLY committed to yelling at THE SYSOP [Y/n] ? {
 fg 3
 yesno 1 1
 if V1 else eof endif
 fg 6
 }

 Please enter a {fg 1}GOOD{fg 6} reason to yell at me :

 {
   fg 2
   send `>`
   attr 4 6
   answer 1
   field 70
   read V1 70
  
   if ANSI else yell 7 eof endif

   runtask `<RiscBBS$Dir>.SubTasks.!NxChat[R].!Run -door HANDLE ANSI -uname "NAME" -reason "V1"`
   wait
   runtask `NetProgs:WantedChat.!WantedCht "NAME"`

   if <NaixSChat$Return>="2"
      cls
      fg 2
      send `Oh well... leave a message instead? [Y/n] `
      goto +leavemsg
   endif
   if <NaixSChat$Return>="1"
      cls
      fg 2
      send `The sysop is not answering, but has been notified of your chat request.`
      eoln
      send `Leave a message? [Y/n] `
      goto +leavemsg
   endif
   if <NaixSChat$Return>="0"
      |`Normal return`
      eof
   endif
 
   label leavemsg
   fg 3
   yesno 1 1
   if V1 else eof endif
   fg 6
   m_enter `A0 S`
   eof
}

\}

To implement "breaking in", use this EventTexts.ChatStart:

\{

{
 report `Chatting with sysop`
 attr 0 7
}

 [ irq_sysop ]

{
 if ANSI
   runtask `<RiscBBS$Dir>.SubTasks.!NxChat[R].!Run -door HANDLE ANSI`
   wait
   attr 4 1
   send `F1!!!`
   cll
   eoln
   attr 0 7
 else
   send `Awfully sorry, you need ANSI for split-screen chat`
   eoln
 endif
}

\}

Note: press F1 again after chat has finished...
