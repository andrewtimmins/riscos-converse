
                                 :+;
                       ;I,     ,)i==                                            
                     ,=TI     ;+                                                
                    ;:)LT    ;:                                                 
        ;=)I)=     +,:LLL,  +,                ;LLLT:  +LLLI,                    
     ,+;,  ;TL+   =  =LLL: +,                +LLLI,  =LLLI                      
    =;      )T  ,=   )LLL,+,  ,+iI)+:)))i :;)LLL);;+ILLL);;, ;iII++); ==++==    
   )+      ;I, :=    ILL)=, +ITL), =TLLI,  ILLL=  ,ILLT+  ,=TLLi  +T=;+iTLi   
  =L;     ::  =+     ILT) ;TLLT+  +TLL)  ,ILLT+  ;TLLT;  +TLLL=;=i+,;:=TLi   
  ILI,     ,=):      IL) :TLLT:  iLLT=  +TLLT:  iTLLI, ,=LLLL=,    ;:ILLI  ;: 
  =LLT)iiiIT+        T+  =LLL),:)LLLi ;:TLLL::+:TLLT,:;:,TLLI    :; +LLLTi;   
   =TLLTIi;         ,,    :+=;,  +===;  ,=ii+,  ,=)i+,    +=i;;;;    +==;       
      '
                                    Chatter

                              й 1994 Chris Jackson

                                  Version 1.47

Introduction
ииииииииииии

This application was written so that the doobs (The infamous memory waster)
could be disposed of. With just this application, this statement isn't quite
true as there are some `doobs` that are used on quite a few BBSs (Which are
quite popular, like GlobalWar etc.), but I might just get around to fixing
TheDoobs to work without this memory wasting module, and ANSI display
(arghhhh!)... So that you can use this chatter to chat, and then the small
section of the doobs to deal with the remaining doobs that users like.

This application aims to be a replacment for the well known Earache split
screen chat by `SICK` (Or Merlin Hughes, or Tracy etc.). It is written in
BASIC V (As is Earache) but has one significant difference; It works in a
window at the sysop's end, so that the pain of ANSI is only shown to the one
that is paying to have that pain :-), basically, instead of using an ANSI
window at the sysops end, it uses a wimp window. This makes the stress and
strain on the sysops eyes much less, as they are using the usual `grey` WIMP
colour, rather than contrasting ANSI colours.

Installation ииииииииииии

Installing !Natter onto your system couldn't be easier; you simply drag the
application to somewhere on your hard disc (for example, a door directory,
your server directory etc.) and place some door calling lines in your menu
script(s);

--------------------------------------------------------------------------------

ARCbbs (Menu script?) :


  DOING "Talking to sysop"
  OSCLI "WimpTask ADFS::5.$.Doors.!Natter -door"
  DOOR 101
  GOTO mainmenu

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
- -

ArmBBS (!ArmBBS.System.Page) :

{
  doing `Talking to sysop`
  if дpagerд=1
    door `1 101 ADFS::HardDisc4.$.Applctions.Comms.DOORS.SysopChat.!Natter
-door`
  else
    fg 3
    print `\10Sorry, I'm afraid the sysop is not available. Please try
later...`
    type <ArmBBS$Dir>.System.PageKill
    eof
  endif }

** Read the ArmBBS 'supplement' for more info on setting up in ArmBBS rather
than NewsFlash or ARCbbs **

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
- -

NewsFlash :

if option="T" then report "Natter Chatter" print "Natter Chatter" runtask
"ADFS::HardDisc4.$.Applctions.Comms.DOORS.SysopChat.!Natter -door"
startarcbbsdoor 101 anykey endif

--------------------------------------------------------------------------------

Note the `-door` parameter. This puts !Natter into `door` mode, rather than
`configuration` mode, which it would be in otherwise.

This will simply set the `doing` of the user to `Talking to sysop`, run the
task, and then call the door. After the chat, the user will be returned to
the main menu.

If you have a `chat` menu on your system (such as Arcade's) then you would
simply need to change the GOTO to something else, such as GOTO chat, or
whatever.

Some systems, especially the larger ones which can spare a bit of memory,
might be interested in loading the application onto the iconbar on bootup,
so they have quick access to it;

  ..
  Filer_Run ADFS::5.$.Doors.!Natter
  ..


Note that !Natter will put itself in `configuration` mode automatically if
there are no ports configured to run, EVEN if you send the `-door`
parameter.

Configuring иииииииииии

Configuring the door couldn't be simpler either; simply load Natter with the
normal double click (Which will put it into configuration mode) and then use
the preferences dialogue box to set the desired settings.

There are various options, these are detailed below;

  Door no. - This is the door number that ARCbbs calls (It is in the above
              script used in the `DOOR 101` line). Changing this number will
              change the door request number that Natter responds to. You
will
              probably need to change this, depending on your current setup.
             DEFAULT:101

     Sysop - This is the name of the sysop. You should enter your name here,
             DEFAULT:Chris Jackson

      Type - This icon allows you to choose what type of screen design you
would
              like to use. The `to-menu` button allows you to view the
entries
              in the directory, and pick which design you want. (Please read
              the accompanying documentation on how to create your own
screen
              designs).
             DEFAULT:Nicish

  Template - This icon allows you to choose which template file you would
prefer
              to use. There are two; `Normal` are the templates that Natter
              originally had, and `StyleGuide` are the templates that Chris
              Claydon designed for Natter as he said that my templates
weren't
              compliant with the style guide. The style guide compliant ones
              are too big for 640x512 modes.
             DEFAULT:Normal

 Off after - This radio option allows the sysop to only accept pages between
              these times. The icons to the left will `dim-out` if the
option
              is off, but if on, they will allow you to type the desired
times
              in.
             The first time is the time when the pager turns off, and the
              second time is the time when the pager turns back on again.
This
              is useful as remembering to switch the pager off is a pain;
I've
              forgotten to do it various times, and users get very agitated
:-)
             The times should be typed in in 24Hr times, like 2330
(=11:30pm).
             For example. I want to have the pager turn off from 1am until
6pm.
             This is done like;

             1am = 0100
             6pm = 1800
                          ______         ______
             O Page off  | 0100 | until | 1800 |
                          мммммм         мммммм
             DEFAULT:Off, 2330 until 1430

  Enter reason if no answer - This radio button toggles whether, if the
sysop
                               doesn't answer (the page is `ignored` or the
                               sysop sent a manual excuse), to ask the user
if
                               he or she wants to send a short message
                               explaining what they wanted to chat about.
You
                               can access the list of strings from
Logs>Reasons.
                              An added bonus is given by some options lower
down
                               which let the sysop be mailed with the reason
why
                               the user wanted to chat, and/or bring a
report
                               window up telling the sysop why.
                              DEFAULT: On

               Beep on page - This toggles whether the page should beep when
                               a user is paging the sysop.
                              DEFAULT: On

            Ask before quit - This toggles whether the user should be
allowed
                               to quit without the sysops permisson.
                              DEFAULT:On

             Use highlights - This is not used at present in Natter.
                              DEFAULT:On

               Restore Time - This toggles whether the users time should be
                               depreciated or not. If it is set, the chat
will
                               not take any time from their time left
online.
                               Please read the accompanying `ARMbbs notes.`
                              DEFAULT:Off

              Stop ^G beeps - This radio button toggles whether you want to
                               stop VDU7's being heard by the sysop. This
                               happens when the user sends a VDU7 (Ctrl-G)
and
                               is generally used to attract the sysop's
                               attention.
                              DEFAULT:Off

          Mail failed chats - This radio button toggles whether the chat
should
                               create an `automatic message` from the user
to
                               the sysop telling the sysop that Fred
Xyghiklm
                               wanted to chat about `Me`.
                              DEFAULT:On

             Report reasons - This radio button toggles whether the `report`
                               window should appear when the user quits
because
                               of a `reason-required` option (after typing
in a
                               reason, that is...)
                              DEFAULT:On

          г to Ь conversion - This radio button toggles whether Natter
should
                               convert between normal ASCII pound signs, and
                               ANSI pound signs. The г sign has a ASCII
value
                               of 163, and the Ь sign has a value of 156.
                              Whenever anyone types an ASCII г sign, it will
be
                               shown to the user as a Ь (ANSI г sign), and
the
                               sysop as a normal г sign, if this option is
on.
                              DEFAULT:On

You will need to configure which ports you are using from the ports menu. If
you are using ARCbbs, then you will be able to press the `intelligent`
button, which will scan the system variables, and attempt to intelligently
set which ports that your system uses. Generally, this will be Port 0 (as
most BBS's have only one line), but some systems such as Digibank, Arcade
and Arctic will configure more ports... Remember that you should configure
port 32 if you want to fake a logon ;-) (And port 33 if you are likely to
use two local logon windows)

After you have everything setup to your satisfaction, you should simply
click OK in the preferences window and close the ports window, and then
select `Save Settings` from the iconbar menu.

Your settings are now saved, and you will be able to use Natter on your
system.

In use ииииии

When someone attempts to page you, a bright red screen will be sent to the
user, saying that the sysop is being paged. The system sends a VDU7 to the
user (a double to the sysop if `beep on page` is on) every time a page
happens, and a `.` to the user also.

A window will appear in the centre of the desktop, telling the sysop that
`Chris Jackson` would like to chat. You have three options;

  Chat - This will take you into the chat, opening the window, and getting
the
          user's time.

Excuse - This will effectively excuse the sysop from a chat. It says
something
          along the lines of `Sorry, I'm a bit busy at the moment, page me a
          bit later`. This can be used to tell people that you don't want to
          chat. Note that this doesn't do the same thing as the
Request>Excuse
          option.

Ignore - This option will allow the sysop to `ignore` the paging of a user.
If
          this button is pressed, the paging window will close, and the
          demanding beeps will stop; it will be as if Natter wasn't even
          loaded. However, the user will not notice any difference, and
think
          that he/she is still paging you as before. This is especially
useful
          for users on a BBS who are constantly paging you, and you wouldn't
          want to let them know you weren't answering them....

One special function built into this split screen chat is the ability to
`force` a split screen chat. This is useful so that if a user is in an area
they shouldn't be, for example, the door will connect to the port (if
possible) and enter you and the user directly into the chat, missing out the
paging.

Remember ArmBBS sysops; if you force a door on a user, you should
`redisplay` the menu when the return, or it'll just sit there ;-)

In Chat иииииии

Whilst in chat, there are various key presses you can do;

 Ctrl-R - Redraw the screen
 Ctrl-L - Clear my section of the screen
  PRINT - Save the current screen onto the end of the `<Natter$Dir>.Saved` file.

 CTRL-C --\
          QUIT the chat
 CTRL-D --/
  
 CTRL-G - Send a VDU7 (Beep) to the remote user

The chat screen will look something like this;

  _____________________________________________________________________________
 |X|  ^R - Redraw ^L - Clear Screen ^C/^D Quit PRINT Save screen ^G - Beep   |_|
 | __________________________________________________________________________|#|
 ||                                                                          |#|
 ||                                                                          |#|
 ||                                                                          |#|
 ||       This is where the text that the user is typing appears             |#|
 ||                                                                          |#|
 ||                                                                          |#|
 ||                                                                          |#|
 ||                                 .-This is where the virtual cafe msgs go |#|
 ||_________________________________V________________________________________|#|
 ||__________________________________________________________________________|#|
 || 999 | |      ^ Joe Bloggs ^     |  | 00:30 |  |    V Chris Jackson V     |#|
 |\__Y________________Y____________________Y__________________Y______________/#|
 ||  |                |                    |                  |              |#|
 ||  |                '- The users name    '- The time        '-Sysop name   |#|
 ||  |                                                                       |#|
 ||  |    This is where the text that the sysop is typing appears            |#|
 ||  |                                                                       |#|
 ||  |                                                                       |#|
 ||  |                                                                       |#|
 ||  '- The time in mins that the user has left                              |#|
 ||__________________________________________________________________________|#|
 ||________________________._________________________________________________|_|
 |_________________________|_________________________________________________|_|
                           |
                           '- This where the sysops virtual cafe msgs go. Ports
                               numbered 32 upwards a monitored.

Where is AI? ииииииииииии Some people (although admittedly, not many) used
to use the Artificial Intelligence chatting function. It was rather a waste
of space (and time), and didn't really do much, as users simply come on,
type for a second, see the speed `you're` typing at, and then go away.

As it is a total waste of everyone's time (I know I was caught out the first
time I used it...), I have decided that I am not putting the AI option in.
There used to be one, and my future ideas for it were to make it so that it
would type at human speed, use delete, and be slightly intelligent (ie. if
you put If, it replied, `Be more positive`, or something like that...) It
also replied to a user swearing at it (Like many users think it's funny to
;-) ), and it also interacted with the user slightly better than the version
which came with EarAche. But, I have taken it out.

_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
_ _

ArmBBS supplement - 4 July 1995.

Here are some notes about running Natter under ArmBBS server.... (v0.64 ->)

For some reason, Natter doesn't seem to be able to set the time left of the
user online, so watch the `Restore time` configuration option. I am unsure
as to whether this is the fault of ArmBBS or Natter as yet.

I use the following on my system to run Natter;

Main Menu :-
  ...

  defitem T
  display `Talk to sysop`
  help `Tries to initiate a chat with the sysop`
  [
    log `!Talk to sysop`
    type <ArmBBS$Dir>.System.Page
  ]
  enditem

  ...

System.Page :- {
  doing `Talking to sysop`
  if дpagerд=1
    door `1 101 ADFS::HardDisc4.$.Applctions.Comms.DOORS.SysopChat.!Natter
-door`
  else
    fg 3
    print `\10Sorry, I'm afraid the sysop is not available. Please try
later...`
    type <ArmBBS$Dir>.System.PageKill
    eof
  endif }

This will allow for a similar setup to that of the single line chat supplied
with ArmBBS. It allows the normal pager to control what should happen if a
chat is initiated by a user. If the pager is off, you will be asked if you
want to write a message to him.

It is possible, under ArmBBS, to download files whilst in mid-chat. Simply
drag the file you want to download to the `snoop` window, select the correct
download protocol from the `xfer` menu, and then start the transfer.
Afterwards, remember to press Ctrl-R to redraw the screen and reposition the
cursor though.

After having a `forced` chat with Natter in ArmBBS, the user will need to
press `?` to redisplay the menu he or she was on, or else they'll just sit
there with a blank screen.  _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

Where can I get an up-to-date copy? иииииииииииииииииииииииииииииииииии You
will be able to get the most recent copy of Natter available from The
Northern ARM BBS (My BBS) on 01274 530831.

You can FREQ the most up-to-date bug-fixed copy from me with the magic name
of `NATTER` ;-)

Any new `release` versions will be then filtered out to Digibank, Arcade
(+Others) as I logon to them.

Distribution ииииииииииии
  You are permitted to distribute !Natter in the following ways;

  * By BBS (Of course ;-) ) - The most up-to-date version of Natter will
always
                               be found on the Northern ARM BBS, then
                               Digibank/Arcade/Plasma. It will probably
appear
                               on many other BBS's too when it's been on
these.

  * Through PD Libraries (Datafile etc.) -
                              You can charge a reasonable amount for a disc,
                               about the ratio 1Meg for г2.00 is acceptable.

  * Via Public Domain/Shareware CD's -
                              It can be placed on a Public Domain or
Shareware
                               CD, but as it's very specialist, then I doubt
it
                               will be much use outside the communications
                               world ;-)

If you would like to distribute it in a different way, then please ring me
up and chat to me about it, don't worry, I'm not such an 'orrible Sisup!

Contacting me иииииииииииии You can contact me at the following places;

Snail mail -
    15, Red Beck Vale
    Shipley
    West Yorkshire
    BD18 3BN
    England (For all you folks out in Ozy, Norway, Holland etc.!)

Fidonet - 2:250/372.0 Riscnet - 7:44/101.0 Yacknet - 345:1/8.0

EMail - cjackson@digibank.demon.co.uk

BBS
        `Chris Jackson` (#1) on The Northern ARM BBS      << Quickest
                  (01274) 530831  (M) 14k4 (1 Line)       << Quickest

        `Chris Jackson` (#473) on Digital Databank
                  (01707) 329306  (M) 28k8 (1 Lines)
                  (01707) 323531      14k4 (3 Lines)

        `Chris Jackson` on Arcade
                  (0181) 655 4412 (M) 28k8 (1 Lines)
                  (0181) 654 2212     28k8 (4 Lines)

        `Chris Jackson` on Arctic
                  (0181) 903 1308 (M) 28k8 (1 Line)
                  (0181) 903 1309     14k4 (1 Line)

Telephone - If you know it then you know it.

BBS - Phone 01274 530831 to access my 24Hr Archimedes BBS (The Northern ARM
BBS). It is run on ArmBBS with 750Mb of storage. Three 400Mb CDs supplement
this, making up the total storage space plus PD already there (1.2Gb) to
1.2Gb+0.75Gb = 1.95Gb! Call now with your modem setup for 8N1, at upto
14k4...

Versions ииииииии v0.01 -> v1.26 (not-released) ~~~~~~~~~~~~~~ Preliminary
test versions. These were tested by John Stonier and me to see if they were
any good. It progressed from a very simple split-screen chat to the
sophisticated door you see now. (;-) )

v1.30a (pre-release) ~~~~~~~~~~~~~~~~~~~~ This version was released to /all/
ArmBBS sysops only.

v1.30b (pre-release fixed) ~~~~~~~~~~~~~~~~~~~~~~~~~~ The same version as
above, but with a couple of minor fixes (Like a missing colon which made the
configuration not work properly), and various other things.

v1.40 (release?) ~~~~~~~~~~~~~~~ Many bug fixes, and extra little bits and
bats.

  * Finally got the style guide templates to work with Natter
  * Added Ctrl G filtering
  * Template type picking
  * Smoothed out various other things.
  * The caret is now automatically put into the chat window, so that
snooping ArmBBS sysops ( ;-) ) don't end up typing in the users box.

v1.41 ~~~~~~ A few more bug fixes, released to John only.

v1.42 ~~~~~
  * This version doesn't quit when a user has been forced to chat if the
door is in config mode

  * Plus various minor bug fixes.

v1.43a (7:30pm) ~~~~~~
  * When a failed chat occours, and a user enters a `reason`, the reason is
sent to the sysops mail box, and opens a window saying why the user wanted
to chat for 15 seconds, then closes it.

v1.43b (7:45pm) ~~~~~~
  * OK, so the post went the wrong way; it went from the sysop to the user
;-) This is now fixed.

v1.43c (7:47pm) ~~~~~~
  * OK, so the post now goes the right way, but to the wrong user number! It
now works fine ;-|

  * The sysops end isn't updated when a redraw occours now.

v1.44 ~~~~~
  * This version allows the mail sent to the sysop on a failed chat and
opening the `reason` window to be optional

  * I wasn't setting the last user that spoke when delete or redraw was
pressed; that's why users ended up chatting on the sysops side!

v1.46 ~~~~~
  * I know, i didn't fix the disappearing characters bug; when I tested it
it seemed to not disappear! Fixed now, hopefully...

  * It has some nice graphix (thanks to Paul Wheatley, PD page etc.) on the
startup screen.

  * It also now closes any files relating to it, so if any are left open for
any reason, then it will carry on regardless ;-)...

  * There's also a new configuration option, г to Ь, which selects whether
you want г's and Ь's to be converted to the right symbol for the displayer
(ie. ansi or window).

  * I have changed the configuration mode now... It will now load into
configuration mode from a normal double click in the desktop. From NOW ON
you have to pass a parameter to Natter if you want it to load in door mode.
I will set this to `-door`, but in this current version it doesn't matter
what you send. Eg. ADFS::5.$.Doors.!Natter -door.

This means that it is impossible to load !Natter in `non-config` mode. So, I
have made pressing either of the ALT keys force configuration off.

So a quick resume; * Double clicking will put into configuration mode. * Add
a parameter to the run command of Natter, and it will load in `door` mode. *
Pressing ALT and double clicking will force Natter into `door` mode.

V1.47 ~~~~~
  * OK, I lost my copy of 1.46B and so had to go back to 1.46
  * Doesn't let any chars disappear any longer
  * Clears input buffer when start-screen is shown
  * Doesn't put the caret in the clock icon any more
  * Updated the dox slightly
  * Fixed a single character which was bold in the 'paging' screen
  * Made the closing files thing faster plus overall loading
  * Put the version number in the right icon in Info box
  * Changed the picture of that handsome guy in the Sprites file
  * Changed the icon to a more likable colour when there is a reasons file
  * _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
_ _ _ _

Many many thanks to;

  * John Stonier for testing it, and not becoming too impatient!
  * Ricky Sargeant for telling me Natter needed improving numerous times!
  * Richard Murray for giving some decent competition.
  * David Dade and David Coleman for helping test it on Arcade.
  * Steve Pursey for testing on ArcTic and not once becoming annoyed because
I hand't sent him an update!
  * Anyone that complained bitterly about Natter ;-)

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
- -

Natter is used by the following systems;

  Northern ARM     (moi!)
  Digital Databank (John Stonier)
  Arcade           (David Dade)
  Arctic           (Steve Pursey)
  Plasma Sphere    (Keith Hall)
  Renegade         (Robin Abecassis)
  SkyLine Online   (Robbie Record)
  InterComm        (Andrew Lobel)
  Altered State    (Steve Smith) - I think
  Pangill          (Peter Gillham) - I think
  Cobra            (Michael Cowgill) - I think
  Underworld       (Chris Johns) - I think
  ARCForum         (Graham Cant) - I think

Cheers, _________________ \__hris __\ackson

