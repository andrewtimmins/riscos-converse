{
   /* Main Menu */
   /* Called from Postlogon after login scan */

label main_menu
    doing `Main menu...`
    script `<Converse$Dir>.BBS.Header`
    bold
    fgbg 7 4
    print `                               .:: Main Menu ::.`,cll
    print `\r\n`
    fgbg 7 1
    print `                           Time is: %{hour}:%{minute} - Line #%{line}`,cll
    print `\r\n\r\n\r\n`
    std
    print `      [F] Filebase                                [M] Messagebase\r\n`
    print `\r\n`
    print `      [C] Chat to Sysop                           [O] Who's Online\n\n`
    print `\r\n`
    print `      [D] Doors / Utils / Games                   [S] Scan for New Content\r\n`
    print `\r\n\r\n`
    print `      [Q] Quit / Logoff\r\n`
    print `\r\n`
    pos 0 24
    print `  Choice: `
    pos 11 24
    prompt choice char echo

    if choice == `m` goto messagebase
    if choice == `M` goto messagebase
    if choice == `f` goto filebase
    if choice == `F` goto filebase
    if choice == `s` goto login_scan
    if choice == `S` goto login_scan
    if choice == `q` goto quit
    if choice == `Q` goto quit
    if choice == `C` goto chat
    if choice == `c` goto chat
    if choice == `O` goto online
    if choice == `o` goto online

    pos 11 24
    print `Invalid choice...`
    pause 250
    goto main_menu

/* Messagebase tester submenu */
label messagebase
    script `<Converse$Dir>.BBS.Messagebase`
    goto main_menu

/* Filebase tester submenu */
label filebase
    script `<Converse$Dir>.BBS.Filebase`
    goto main_menu

/* Scan for new content */
label login_scan
    cls
    doing `Scanning new content...`
    loginscan
    anykey
    goto main_menu

/* Online */
label online
    doing `Seeing who's online...`
    cls
    online
    anykey
    goto main_menu

/* Chat */
label chat
    doing `Chatting to sysop...`
    cls
    sysopchat
    anykey
    goto main_menu

/* Quit */
label quit
    print `\r\n\r\n`
    bold
    print `Goodbye!\r\n`
    std
    logoff
}
