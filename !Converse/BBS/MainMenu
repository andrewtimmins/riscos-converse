{
   /* Main Menu */
   /* Called from Postlogon after login scan */

label main_menu
    script `<Converse$Dir>.BBS.Header`
    bold
    fgbg 7 4
    print `                                .:: Main Menu ::.`,cll
    std
    print `\r\n\r\n`
    print `    [M] Messagebase \r\n`
    print `    [F] Filebase \r\n`
    print `    [S] Scan for New Content\r\n`
    print `    [C] Chat to Sysop\n\n`
    print ``
    print `    [Q] Quit / Logoff\r\n`
    print `\r\n`
    print `  Choice: `
    prompt choice char echo

    if choice == `m` goto messagebase
    if choice == `M` goto messagebase
    if choice == `f` goto filebase
    if choice == `F` goto filebase
    if choice == `s` goto login_scan
    if choice == `S` goto login_scan
    if choice == `q` goto quit
    if choice == `Q` goto quit
    if choice == `C` goto chat
    if choice == `c` goto chat

    print `\r\n\r\n[Invalid choice]\r\n`
    anykey
    goto main_menu

/* Messagebase tester submenu */
label messagebase
    script `<Converse$Dir>.BBS.Messagebase`
    goto main_menu

/* Filebase tester submenu */
label filebase
    script `<Converse$Dir>.BBS.Filebase`
    goto main_menu

/* Scan for new content */
label login_scan
    print `\r\n`
    loginscan
    anykey
    goto main_menu

/* Chat */
label chat
    print `\n\n`
    sysopchat
    anykey
    goto main_menu

/* Quit */
label quit
    print `\r\n\r\n`
    bold
    print `Goodbye!\r\n`
    std
    logoff
}
